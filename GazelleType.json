{
  "nodes": [
    {
      "parameters": {
        "videoUrl": "={{ $('Telegram Trigger').item.json.message.text }}",
        "additionalOptions": {
          "includeTimestamps": true,
          "formatOutput": "structured",
          "maxLength": 50000
        }
      },
      "type": "@cryptodevops/n8n-nodes-youtube-transcript.youTubeTranscript",
      "typeVersion": 1,
      "position": [
        800,
        64
      ],
      "id": "0f70588d-9962-452e-8987-410503990b9b",
      "name": "YouTube Transcript"
    },
    {
      "parameters": {
        "model": "deepseek-reasoner",
        "options": {
          "temperature": 0.2
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        2896,
        448
      ],
      "id": "efc7005d-fba0-4f53-9725-34ae0f392a5b",
      "name": "DeepSeek Chat Model",
      "credentials": {
        "deepSeekApi": {
          "id": "B1xqh7Q9nCK0QDrN",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.2,
      "position": [
        -96,
        256
      ],
      "id": "47b8abec-36c1-4f6b-9288-e8a0e3f6a6d9",
      "name": "Telegram Trigger",
      "webhookId": "ab9dd529-2e1f-469b-b73a-cc314e0aa571",
      "credentials": {
        "telegramApi": {
          "id": "z0J8VumNnbYiOfm6",
          "name": "GazelleType"
        }
      }
    },
    {
      "parameters": {
        "operation": "sendAnimation",
        "chatId": "={{ $('Telegram Trigger').first().json.message.from.id }}",
        "file": "CgACAgIAAxkBAAMWaRIanxd22casXZ3OWERnNQ1jvCYAAhyCAALsL5BIXGtKzl-mB3A2BA",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        5616,
        496
      ],
      "id": "39fd9da2-0929-4aaa-a08c-d6dcd095b0aa",
      "name": "Send an animated file1",
      "webhookId": "ae14085b-ab97-4974-a7a1-7dde3a4c60a6",
      "credentials": {
        "telegramApi": {
          "id": "z0J8VumNnbYiOfm6",
          "name": "GazelleType"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=## –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞: \n{{ $('YouTube Video Info').first().json.author_name }}\n\n## –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ: \n{{ $('YouTube Video Info').first().json.title }}\n\n## –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è:\n{{ $json.readable_text }}\n\n",
        "hasOutputParser": true,
        "needsFallback": true,
        "messages": {
          "messageValues": [
            {
              "message": "# –¢—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ speaker diarization (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é —Å–ø–∏–∫–µ—Ä–æ–≤ –≤ –∞—É–¥–∏–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è—Ö).\n\n## –¢–í–û–ò –ó–ê–î–ê–ß–ò:\n\n* –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–º–µ–Ω—Ç—ã —Å–º–µ–Ω—ã —Å–ø–∏–∫–µ—Ä–∞\n\n* –†–∞–∑–º–µ—Ç–∏—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é\n\n## –ö–†–ò–¢–ï–†–ò–ò –°–ú–ï–ù–´ –°–ü–ò–ö–ï–†–ê:\n\n### ‚úÖ –Ø–í–ù–´–ï –ø—Ä–∏–∑–Ω–∞–∫–∏ —Å–º–µ–Ω—ã:\n\n* –í–æ–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç (\"–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?\" ‚Üí \"–û–±—ä—è—Å–Ω—é\")\n\n* –ü—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ (\"–¢—ã —É–ø–æ–º—è–Ω—É–ª...\", \"–ß—Ç–æ —Å–∫–∞–∂–µ—à—å?\")\n\n* –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (\"–Ø –°–∞—à–∞\", \"–ê —è –≥–æ—Å—Ç—å –ò–≤–∞–Ω\")\n\n* –†–µ–∑–∫–∞—è —Å–º–µ–Ω–∞ —Å—Ç–∏–ª—è —Ä–µ—á–∏ (—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π ‚Üî —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π)\n\n* –ü–µ—Ä–µ–±–∏–≤–∞–Ω–∏–µ, –≤–∫–ª–∏–Ω–∏–≤–∞–Ω–∏–µ –≤ —Ä–µ—á—å\n\n### ‚ùå –ù–ï —è–≤–ª—è—é—Ç—Å—è —Å–º–µ–Ω–æ–π —Å–ø–∏–∫–µ—Ä–∞:\n\n* –†–∏—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ (\"–ò —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç? –ê –≤–æ—Ç —á—Ç–æ...\")\n\n* –°–º–µ–Ω–∞ —Ç–µ–º—ã –≤ –º–æ–Ω–æ–ª–æ–≥–µ\n\n* –¶–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (\"–û–Ω —Å–∫–∞–∑–∞–ª: '–ø—Ä–∏–≤–µ—Ç'\" - —ç—Ç–æ –æ–¥–∏–Ω —Å–ø–∏–∫–µ—Ä)\n\n* –ü–∞—É–∑—ã –∏ –º–µ–∂–¥–æ–º–µ—Ç–∏—è (\"–•–º... –Ω—É... –∫–æ—Ä–æ—á–µ...\")\n\n## –ü–†–ê–í–ò–õ–ê –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–Ø:\n\n1. –§–æ—Ä–º–∞—Ç: [–°–ø–∏–∫–µ—Ä N] MM:SS: \"—Ç–µ–∫—Å—Ç —Ä–µ–ø–ª–∏–∫–∏\"\n\n2. –ö–∞–∂–¥–∞—è —Ä–µ–ø–ª–∏–∫–∞ - –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞\n\n3. –ì—Ä—É–ø–ø–∏—Ä—É–π –ø–æ–¥—Ä—è–¥ –∏–¥—É—â–∏–µ —Ñ—Ä–∞–∑—ã –æ–¥–Ω–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞ –≤ –û–î–ù–£ —Ä–µ–ø–ª–∏–∫—É\n\n4. –°–æ—Ö—Ä–∞–Ω—è–π —Ç–∞–π–º–∫–æ–¥ —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—á–∞–ª–µ —Ä–µ–ø–ª–∏–∫–∏ —Å–ø–∏–∫–µ—Ä–∞\n\n5. –ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è - –ù–ï —Ä–∞–∑–¥–µ–ª—è–π (–ª—É—á—à–µ –æ–¥–∏–Ω —Å–ø–∏–∫–µ—Ä)\n\n–í–æ–∑–≤—Ä–∞—â–∞–π **–¢–û–õ–¨–ö–û** —Ä–∞–∑–º–µ—á–µ–Ω–Ω—É—é —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é. –ù–∏–∫–∞–∫–∏—Ö –æ–±—ä—è—Å–Ω–µ–Ω–∏–π –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.\n\n## –§–û–†–ú–ê–¢ –í–´–í–û–î–ê:\n\n–í–µ—Ä–Ω–∏ **–°–¢–†–û–ì–û** JSON –±–µ–∑ markdown –±–ª–æ–∫–æ–≤:\n{\n  \"text\": \"–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å —Ç–∞–π–º–∫–æ–¥–∞–º–∏\"\n}\n\n**–ù–ï** –¥–æ–±–∞–≤–ª—è–π ```json –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç–µ–∫—Å—Ç!\n"
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "10.5: '–ü—Ä–∏–≤–µ—Ç, —è –°–∞—à–∞' 25.3: '–ê —è –≥–æ—Å—Ç—å –ò–≤–∞–Ω' 40.1: '–†–∞—Å—Å–∫–∞–∂–∏ –æ n8n"
            },
            {
              "type": "AIMessagePromptTemplate",
              "message": "[–°–ø–∏–∫–µ—Ä 1] 10.5: '–ü—Ä–∏–≤–µ—Ç, —è –°–∞—à–∞' \n[–°–ø–∏–∫–µ—Ä 2] 25.3: '–ê —è –≥–æ—Å—Ç—å –ò–≤–∞–Ω'   \n[–°–ø–∏–∫–µ—Ä 2] 40.1: '–†–∞—Å—Å–∫–∞–∂–∏ –æ n8n'"
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "00:00: \"–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç. –Ø –°–∞—à–∞, —ç—Ç–æ Vibe Business.\"\\n00:03: \"–ü—Ä–∏–≤–µ—Ç! –ê —è –ù–∏–∫–æ–ª–∞–π. –°–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ –Ω–æ–¥–µ Merge. –≠—Ç–æ —Ç–∞–∫–æ–π\"\\n00:05: \"–º–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ –≥–æ—Ä–¥—ã–π —É–∑–µ–ª, –∫–æ—Ç–æ—Ä—ã–π\"\\n00:07: \"–¥–µ–ª–∞–µ—Ç, –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ, –Ω–µ–º–Ω–æ–≥–æ. –û–Ω –ø—Ä–æ—Å—Ç–æ\"\\n00:09: \"—Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –º–∞—Å—Å–∏–≤—ã, –Ω–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ\"\\n00:11: \"—Å —Ç–∞–∫–∏–º –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–ø–æ—Å–æ–±–æ–≤. –£\"\\n00:13: \"–Ω–µ–≥–æ —Å—Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –æ–ø—Ü–∏–π, —á—Ç–æ —ç—Ç–æ\"\\n00:16: \"–¥–æ—Å—Ç–æ–π–Ω–æ —Ü–µ–ª–æ–≥–æ –≤—ã–ø—É—Å–∫–∞.\"\\n"
            },
            {
              "type": "AIMessagePromptTemplate",
              "message": "\"[–°–ø–∏–∫–µ—Ä 1] 00:00: \\\"–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç. –Ø –°–∞—à–∞, —ç—Ç–æ Vibe Business.\\\"\\n[–°–ø–∏–∫–µ—Ä 2] 00:03: \\\"–ü—Ä–∏–≤–µ—Ç! –ê —è –ù–∏–∫–æ–ª–∞–π. –°–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ node Merge. –≠—Ç–æ —Ç–∞–∫–æ–π\\\"\\n[–°–ø–∏–∫–µ—Ä 2] 00:05: \\\"–º–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ –≥–æ—Ä–¥—ã–π —É–∑–µ–ª, –∫–æ—Ç–æ—Ä—ã–π\\\"\\n[–°–ø–∏–∫–µ—Ä 2] 00:07: \\\"–¥–µ–ª–∞–µ—Ç, –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ, –Ω–µ–º–Ω–æ–≥–æ. –û–Ω –ø—Ä–æ—Å—Ç–æ\\\"\\n[–°–ø–∏–∫–µ—Ä 2] 00:09: \\\"—Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –º–∞—Å—Å–∏–≤—ã, –Ω–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ\\\"\\n[–°–ø–∏–∫–µ—Ä 2] 00:11: \\\"—Å —Ç–∞–∫–∏–º –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–ø–æ—Å–æ–±–æ–≤. –£\\\"\\n[–°–ø–∏–∫–µ—Ä 2] 00:13: \\\"–Ω–µ–≥–æ —Å—Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –æ–ø—Ü–∏–π, —á—Ç–æ —ç—Ç–æ\\\"\\n[–°–ø–∏–∫–µ—Ä 2] 00:16: \\\"–¥–æ—Å—Ç–æ–π–Ω–æ —Ü–µ–ª–æ–≥–æ –≤—ã–ø—É—Å–∫–∞.\\\"\\n\""
            }
          ]
        },
        "batching": {
          "batchSize": 5,
          "delayBetweenBatches": 1000
        }
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        4432,
        176
      ],
      "id": "84420c92-ea55-48ec-a859-167bf3093df9",
      "name": "Edit Dialog",
      "retryOnFail": true,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "jsCode": "const text = $('Format Transcript').first().json.text || '';\nconst maxCharsPerChunk = 3000;\nconst chunks = [];\n\n// –∑–∞—â–∏—Ç–∞ –æ—Ç –ø—É—Å—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞\nif (!text || text.length === 0) {\n  return [];\n}\n\n// —Ä–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã (2 –∏ –±–æ–ª–µ–µ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—á–∏—Ç–∞–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º)\nconst paragraphs = text.split(/\\n{2,}/).map(p => p.trim()).filter(p => p.length > 0);\n\nlet currentChunk = '';\n\n// –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è ‚Äî –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–µ–º—Å—è –æ—Ç –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ —Ä–∞–∑—Ä—ã–≤–∞—Ç—å —Å–ª–æ–≤–∞\nfunction splitLongParagraph(paragraph, limit) {\n  const parts = [];\n  // —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–±–µ–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã, —á—Ç–æ–±—ã –Ω–µ —Å–∫–ª–µ–∏–≤–∞—Ç—å —Å–ª–æ–≤–∞\n  const tokens = paragraph.split(/(\\s+)/);\n  let part = '';\n\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n\n    if ((part.length + token.length) <= limit) {\n      part += token;\n      continue;\n    }\n\n    // –µ—Å–ª–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–µ –µ—Å—Ç—å ‚Äî –ø—É—à–∏–º\n    if (part.length > 0) {\n      parts.push(part);\n      part = '';\n    }\n\n    // –µ—Å–ª–∏ —Å–∞–º —Ç–æ–∫–µ–Ω –≤–ª–µ–∑–µ—Ç –≤ –ø—É—Å—Ç–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äî –ø–æ–ª–æ–∂–∏–º –≤ part\n    if (token.length <= limit) {\n      part = token;\n    } else {\n      // —Ç–æ–∫–µ–Ω –¥–ª–∏–Ω–Ω–µ–µ –ª–∏–º–∏—Ç–∞ ‚Äî —Ä–µ–∂–µ–º –∂—ë—Å—Ç–∫–æ –ø–æ —Å–∏–º–≤–æ–ª–∞–º\n      let start = 0;\n      while (start < token.length) {\n        parts.push(token.substring(start, start + limit));\n        start += limit;\n      }\n      part = '';\n    }\n  }\n\n  if (part.length > 0) parts.push(part);\n  return parts;\n}\n\n// –æ—Å–Ω–æ–≤–Ω–∞—è —Å–±–æ—Ä–∫–∞ —á–∞–Ω–∫–æ–≤\nfor (let i = 0; i < paragraphs.length; i++) {\n  const para = paragraphs[i];\n  const sep = currentChunk ? '\\n\\n' : '';\n  const candidate = currentChunk + sep + para;\n\n  if (candidate.length <= maxCharsPerChunk) {\n    // –ø–æ–º–µ—â–∞–µ—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º\n    currentChunk = candidate;\n    continue;\n  }\n\n  // candidate –Ω–µ –≤–ª–µ–∑ ‚Äî —Å–Ω–∞—á–∞–ª–∞ –ø—É—à–∏–º —Ç–µ–∫—É—â–∏–π —á–∞–Ω–∫, –µ—Å–ª–∏ –æ–Ω –Ω–µ –ø—É—Å—Ç\n  if (currentChunk.length > 0) {\n    chunks.push(currentChunk.trim());\n    currentChunk = '';\n  }\n\n  // —Ç–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–æ—Ç–∞–µ–º —Å–∞–º –ø–∞—Ä–∞–≥—Ä–∞—Ñ\n  if (para.length <= maxCharsPerChunk) {\n    // –ø–∞—Ä–∞–≥—Ä–∞—Ñ –≤–ª–µ–∑–∞–µ—Ç –≤ –ø—É—Å—Ç–æ–π —á–∞–Ω–∫\n    currentChunk = para;\n  } else {\n    // –ø–∞—Ä–∞–≥—Ä–∞—Ñ –¥–ª–∏–Ω–Ω—ã–π ‚Äî —Ä–∞–∑–±–∏–≤–∞–µ–º –∏ –ø—É—à–∏–º —á–∞—Å—Ç–∏\n    const parts = splitLongParagraph(para, maxCharsPerChunk);\n    for (let p = 0; p < parts.length; p++) {\n      // –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç parts –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ <= limit\n      // –ï—Å–ª–∏ —Å–ª–µ–¥—É—é—â–∏–π part –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ç–µ–∫—É—â–µ–º—É —á–∞–Ω–∫—É ‚Äî \n      // –Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Å—Ç–æ –ø—É—à–∏–º –∏—Ö –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞–Ω–∫–∏.\n      chunks.push(parts[p].trim());\n    }\n    currentChunk = '';\n  }\n}\n\n// –ø—É—à–∏–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞–Ω–∫, –µ—Å–ª–∏ –æ—Å—Ç–∞–ª—Å—è\nif (currentChunk.trim().length > 0) {\n  chunks.push(currentChunk.trim());\n}\n\n// —Ñ–æ—Ä–º–∏—Ä—É–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π output –≤ —Ñ–æ—Ä–º–∞—Ç–µ n8n\nconst totalChunks = chunks.length;\nconst output = chunks.map((textChunk, idx) => ({\n  json: {\n    readable_text: textChunk,\n    chunk_number: idx + 1,\n    total_chunks: totalChunks\n  }\n}));\n\nreturn output;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4224,
        176
      ],
      "id": "1ee83729-5f56-4c89-83fe-8a305ac6eeb0",
      "name": "Text Chunk Splitter"
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"content_type\": \"string\",\n  \"speakers_count\": \"number\",\n  \"confidence\": \"string\",\n  \"reasoning\": \"string\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        3152,
        448
      ],
      "id": "8103c9bb-8edb-447a-ac65-e92d14099d66",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "operation": "sendAnimation",
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "file": "CgACAgIAAxkBAAMMaRISo3SkgmgKxfFHiyInsg4CiaIAAqOBAALsL5BIIJ3upavqIwABNgQ",
        "additionalFields": {
          "caption": "=–ü—Ä–∏–≤–µ—Ç, —è GazelleType ü¶åüíã \n\n–Ø –±—ã—Å—Ç—Ä–æ –∏ –∏–∑—è—â–Ω–æ –ø–µ—Ä–µ–±–µ—Ä—É –∫–æ–ø—ã—Ç—Ü–∞–º–∏ –ø–æ –∫–ª–∞–≤–∏—à–∞–º, —á—Ç–æ–±—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —Ç–≤–æ—ë YouTube-–≤–∏–¥–µ–æ –≤ —Ç–µ–∫—Å—Ç ü™∂‚ú®\n\n–ü—Ä–æ—Å—Ç–æ –ø—Ä–∏—à–ª–∏ –º–Ω–µ —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ —Å YouTube, –∏ —è –º–∏–≥–æ–º –Ω–∞—á–Ω—É –ø–µ—á–∞—Ç–∞—Ç—å! üé¨‚å®Ô∏è \n\n(–ü–æ–∫–∞ —á—Ç–æ —Ä–∞–±–æ—Ç–∞—é —Ç–æ–ª—å–∫–æ —Å YouTube ‚Äî –Ω–µ –æ–±–∏–∂–∞–π—Å—è üíÖ)"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        576,
        448
      ],
      "id": "89d06fad-28a5-4ebb-81a5-6de9522b2ccd",
      "name": "Send Start Message",
      "webhookId": "f9241e82-c451-4fe6-be31-00124567e18a",
      "credentials": {
        "telegramApi": {
          "id": "z0J8VumNnbYiOfm6",
          "name": "GazelleType"
        }
      }
    },
    {
      "parameters": {
        "operation": "sendAnimation",
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "file": "CgACAgIAAxkBAAMoaRJIPWNo0Etp0NE3QzdfA4GNWLIAAj6EAALsL5BIbQmwNMDZz0A2BA",
        "additionalFields": {
          "caption": "=–Ø —É–∂–µ –≤—Å—è –≤ —Ä–∞–±–æ—Ç–µ!ü¶å \n\n–°–∫–æ—Ä–æ –Ω–∞–ø–∏—à—É‚ù§Ô∏èüíã"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        352,
        64
      ],
      "id": "d14ef658-3c01-424d-8970-4c471b5d8ead",
      "name": "Sending a message about the start of work",
      "webhookId": "f9241e82-c451-4fe6-be31-00124567e18a",
      "credentials": {
        "telegramApi": {
          "id": "z0J8VumNnbYiOfm6",
          "name": "GazelleType"
        }
      }
    },
    {
      "parameters": {
        "operation": "toText",
        "sourceProperty": "formatted_text",
        "options": {
          "fileName": "transcription.txt"
        }
      },
      "type": "n8n-nodes-base.convertToFile",
      "typeVersion": 1.1,
      "position": [
        5520,
        48
      ],
      "id": "96dc4677-516f-486d-a5a9-2127006808fd",
      "name": "Transcription"
    },
    {
      "parameters": {
        "operation": "sendDocument",
        "chatId": "={{ $('Telegram Trigger').first().json.message.from.id }}",
        "binaryData": true,
        "additionalFields": {
          "disable_notification": true
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        5744,
        48
      ],
      "id": "30016f05-6bfe-422c-a347-4f7a553e71f8",
      "name": "Send Transcription",
      "webhookId": "5d59edd2-40c3-4846-b130-695bd31ba523",
      "credentials": {
        "telegramApi": {
          "id": "z0J8VumNnbYiOfm6",
          "name": "GazelleType"
        }
      }
    },
    {
      "parameters": {
        "operation": "deleteMessage",
        "chatId": "={{ $('Telegram Trigger').first().json.message.from.id }}",
        "messageId": "={{ $('Sending a message about the start of work').first().json.result.message_id }}"
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        5392,
        496
      ],
      "id": "fbd5be09-6326-4bd9-a122-5254852dbdb4",
      "name": "Delete a chat message",
      "webhookId": "7e899114-2990-4447-be72-1379845f28a4",
      "credentials": {
        "telegramApi": {
          "id": "z0J8VumNnbYiOfm6",
          "name": "GazelleType"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {
          "temperature": 0.3
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        4496,
        400
      ],
      "id": "9f0a31ad-5eec-482c-8c30-1a572b1f0a51",
      "name": "OpenAI Chat Model6",
      "credentials": {
        "openAiApi": {
          "id": "mFbjb8lko4SGtu8o",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"text\": \"–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å —Ç–∞–π–º–∫–æ–¥–∞–º–∏\"\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        4624,
        400
      ],
      "id": "d0706049-8348-4540-856c-096376b8374e",
      "name": "Structured Output Parser2"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {
          "temperature": 0.2
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        3024,
        448
      ],
      "id": "8e0df849-e9e0-4caf-8f39-52934191c23f",
      "name": "OpenAI Chat Model8",
      "credentials": {
        "openAiApi": {
          "id": "mFbjb8lko4SGtu8o",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "loose",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.link_preview_options.url }}",
                    "rightValue": "https://www.youtube.com",
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    },
                    "id": "5492d33d-83ba-445a-877d-0684b22a0527"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "yt_link"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "loose",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "2f0ccb40-e6e7-404f-bccd-e242a6e1d7fe",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.entities[0].type }}",
                    "rightValue": "bot_command",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "bot_command"
            }
          ]
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.3,
      "position": [
        128,
        256
      ],
      "id": "792407dd-0f7e-4534-b4d4-67ac9c3caa00",
      "name": "Check Msg Type"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "loose",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "/start",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "ab9b0d36-c081-4613-a910-67963716a981"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "start_command"
            }
          ]
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.3,
      "position": [
        352,
        352
      ],
      "id": "9c9e3470-47d5-4557-95d7-64efcc659345",
      "name": "Check Cmd Type"
    },
    {
      "parameters": {
        "options": {
          "temperature": 0.2
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        4368,
        400
      ],
      "id": "e76940d2-a746-4116-a9ba-43680a1ab333",
      "name": "DeepSeek Chat Model2",
      "credentials": {
        "deepSeekApi": {
          "id": "B1xqh7Q9nCK0QDrN",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "fieldsToAggregate": {
          "fieldToAggregate": [
            {
              "fieldToAggregate": "output.text"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        5072,
        160
      ],
      "id": "ee38eed5-e3a7-4bb8-83bd-cfb14eaba98e",
      "name": "Aggregate1"
    },
    {
      "parameters": {
        "operation": "getVideoInfo",
        "videoUrl": "={{ $('Telegram Trigger').item.json.message.text }}",
        "additionalOptions": {}
      },
      "type": "@cryptodevops/n8n-nodes-youtube-transcript.youTubeTranscript",
      "typeVersion": 1,
      "position": [
        576,
        64
      ],
      "id": "b84baddc-8c38-4a9e-ab38-0c6f05dda611",
      "name": "YouTube Video Info"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {
          "temperature": 0.2
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1536,
        288
      ],
      "id": "8bd5d702-5a28-415d-8343-007b9e59f3f9",
      "name": "OpenAI Chat Model7",
      "credentials": {
        "openAiApi": {
          "id": "mFbjb8lko4SGtu8o",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "options": {
          "temperature": 0.2
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        1408,
        288
      ],
      "id": "da2ca47f-c083-46c3-ac2b-94931d2c867c",
      "name": "DeepSeek Chat Model3",
      "credentials": {
        "deepSeekApi": {
          "id": "B1xqh7Q9nCK0QDrN",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "fieldsToAggregate": {
          "fieldToAggregate": [
            {
              "fieldToAggregate": "output.text"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        2320,
        48
      ],
      "id": "72030cf2-b76b-46df-8701-4819ae8df9fc",
      "name": "Aggregate"
    },
    {
      "parameters": {
        "jsCode": "const maxChars = 3000;\n\nconst first = items[0] || {};\nconst j = first.json || {};\nlet fullText = '';\n\nif (typeof j.text === 'string' && j.text.length > 0) {\n  fullText = j.text;\n} else if (Array.isArray(j.transcript)) {\n\n  const formatTimestamp = (seconds) => {\n    const s = Number(seconds) || 0;\n    const hh = Math.floor(s / 3600);\n    const mm = Math.floor((s % 3600) / 60);\n    const ss = Math.floor(s % 60);\n    if (hh > 0) return `${String(hh).padStart(2, '0')}:${String(mm).padStart(2, '0')}:${String(ss).padStart(2, '0')}`;\n    return `${String(mm).padStart(2, '0')}:${String(ss).padStart(2, '0')}`;\n  };\n  fullText = j.transcript.map(seg => `${formatTimestamp(seg.start)}: \"${seg.text || ''}\"`).join('\\n');\n} else {\n\n  return [];\n}\n\nconst lines = fullText.split('\\n');\n\nconst chunks = [];\nlet current = '';\n\nfunction pushChunk(s) {\n  chunks.push(s.replace(/\\s+$/u, ''));\n}\n\nfunction splitLongLine(line, limit) {\n  const parts = [];\n  const tokens = line.split(/(\\s+)/);\n  let part = '';\n\n  for (const token of tokens) {\n    if ((part.length + token.length) <= limit) {\n      part += token;\n      continue;\n    }\n\n    if (part.length > 0) {\n      parts.push(part);\n      part = '';\n    }\n\n    if (token.length <= limit) {\n      part = token;\n    } else {\n      let start = 0;\n      while (start < token.length) {\n        parts.push(token.substr(start, limit));\n        start += limit;\n      }\n      part = '';\n    }\n  }\n\n  if (part.length > 0) parts.push(part);\n  return parts;\n}\n\nfor (const line of lines) {\n  const sep = current ? '\\n' : '';\n  const candidate = current + sep + line;\n\n  if (candidate.length <= maxChars) {\n    current = candidate;\n    continue;\n  }\n\n  if (current.length > 0) {\n    pushChunk(current);\n    current = '';\n  }\n\n  if (line.length <= maxChars) {\n    current = line;\n  } else {\n    const parts = splitLongLine(line, maxChars);\n    for (const p of parts) {\n      pushChunk(p);\n    }\n    current = '';\n  }\n}\n\nif (current.length > 0) pushChunk(current);\n\nconst total = chunks.length;\nconst output = chunks.map((text, idx) => ({\n  json: {\n    readable_text: text,\n    chunk_number: idx + 1,\n    total_chunks: total\n  }\n}));\n\nreturn output;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1248,
        64
      ],
      "id": "27459b52-aeac-4c75-8071-4a39ed05eb11",
      "name": "Text Chunk Splitter1"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "def format_timestamp(seconds):\n    hours = int(seconds // 3600)\n    minutes = int((seconds % 3600) // 60)\n    secs = int(seconds % 60)\n    \n    if hours > 0:\n        return f\"{hours:02d}:{minutes:02d}:{secs:02d}\"\n    else:\n        return f\"{minutes:02d}:{secs:02d}\"\n\nlines = []\npreview_lines = []\nchar_count = 0\nmax_chars = 2000\n\nfor segment in items[0][\"json\"][\"transcript\"]:\n    start = segment.get(\"start\")\n    text = segment.get(\"text\", \"\")\n    \n    timestamp = format_timestamp(start)\n    line = f'{timestamp}: \"{text}\"'\n    \n    lines.append(line)\n    \n    if char_count + len(text) <= max_chars:\n        preview_lines.append(line)\n        char_count += len(text)\n\nfull_text = \"\\n\".join(lines)\npreview_text = \"\\n\".join(preview_lines)\n\nreturn [{\"json\": {\"text\": full_text, \"preview_text\": preview_text}}]"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1024,
        64
      ],
      "id": "6d10ab62-ffb0-4eb8-8708-dc93ec36a69f",
      "name": "Format Transcript"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=## –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞: \n{{ $('YouTube Video Info').first().json.author_name }}\n\n## –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ: \n{{ $('YouTube Video Info').first().json.title }}\n\n## –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è:\n{{ $json.readable_text }}",
        "hasOutputParser": true,
        "needsFallback": true,
        "messages": {
          "messageValues": [
            {
              "message": "# –¢—ã - —Ä–µ–¥–∞–∫—Ç–æ—Ä –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π YouTube –≤–∏–¥–µ–æ.\n\n## –¢–í–û–ò –ó–ê–î–ê–ß–ò:\n\n1. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –º–µ–ª–∫–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –≤ —Å–º—ã—Å–ª–æ–≤—ã–µ –±–ª–æ–∫–∏ (1-3 –∑–∞–∫–æ–Ω—á–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)\n\n2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ (ASR)\n\n3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞–≤—Ç–æ—Ä—Å–∫–∏–π —Å—Ç–∏–ª—å –∏ –∏–Ω—Ç–æ–Ω–∞—Ü–∏—é\n\n4. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã n8n\n\n5. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞, –µ—Å–ª–∏ –æ–Ω–æ –æ–∑–≤—É—á–µ–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ\n\n## –ü–†–ê–í–ò–õ–ê –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–Ø:\n\n* –¢–∞–π–º–∫–æ–¥ –¢–û–õ–¨–ö–û –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–º—ã—Å–ª–æ–≤–æ–≥–æ –±–ª–æ–∫–∞\n\n* –û–±—ä–µ–¥–∏–Ω—è–π —Ä–∞–∑–æ—Ä–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≤ —Ü–µ–ª—ã–µ –±–ª–æ–∫–∏\n\n* –ë–ª–æ–∫ = 1-3 –∑–∞–∫–æ–Ω—á–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —Å–º—ã—Å–ª—É\n\n* –§–æ—Ä–º–∞—Ç: MM:SS: \"—Ç–µ–∫—Å—Ç –±–ª–æ–∫–∞\"\\n\n\n## –ß–ê–°–¢–´–ï –û–®–ò–ë–ö–ò ASR –î–õ–Ø n8n:\n\n* –Ω–æ–º–µch, –º–µ—Ä—á, –º—ë—Ä–∂ ‚Üí node Merge\n\n* –∏–Ω–ø—É—Ç, –∏–º–ø—É—Ç ‚Üí input\n\n* –∞—É—Ç–ø—É—Ç ‚Üí output\n\n* –∞–π—Ç–µ–º, –∏—Ç–µ–º ‚Üí item\n\n* –≤–æ—Ä–∫—Ñ–ª–æ—É ‚Üí workflow\n\n* —Ç—Ä–∏–≥–≥–µ—Ä ‚Üí trigger\n\n* –Ω–æ–¥—ã, –Ω–æ–¥–∞ ‚Üí node, nodes\n\n* —Å–ø–ª–∏—Ç ‚Üí Split\n\n* –∞–≥—Ä–µ–≥–∞—Ç, –∞–≥—Ä–µ–≥–µ–π—Ç ‚Üí Aggregate\n\n* —Å–≤–∏—Ç—á ‚Üí Switch\n\n* —Å–µ—Ç ‚Üí Set\n\n## –§–û–†–ú–ê–¢ –í–´–í–û–î–ê:\n\n–í–µ—Ä–Ω–∏ **–°–¢–†–û–ì–û** JSON –±–µ–∑ markdown –±–ª–æ–∫–æ–≤:\n{\n  \"text\": \"–æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å —Ç–∞–π–º–∫–æ–¥–∞–º–∏\"\n}\n\n**–ù–ï** –¥–æ–±–∞–≤–ª—è–π ```json –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç–µ–∫—Å—Ç!"
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "## –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞: Vibe Business  \\n\\n## –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ: Node Merge –≤ n8n  \\n\\n## –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è: \\n00:00: \"–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç. –Ø –°–∞—à–∞, —ç—Ç–æ VI –±–∏–∑–Ω–µ—Å.\" \\n00:03: \"–°–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ –Ω–æ–º–µch. –≠—Ç–æ —Ç–∞–∫–æ–π\" \\n00:05: \"–º–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ –≥–æ—Ä–¥—ã–π —É–∑–µ–ª, –∫–æ—Ç–æ—Ä—ã–π\" \\n00:07: \"–¥–µ–ª–∞–µ—Ç, –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ, –Ω–µ–º–Ω–æ–≥–æ. –û–Ω –ø—Ä–æ—Å—Ç–æ\" \\n00:09: \"—Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –º–∞—Å—Å–∏–≤—ã, –Ω–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ\" \\n00:11: \"—Å —Ç–∞–∫–∏–º –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–ø–æ—Å–æ–±–æ–≤. –£\" \\n00:13: \"–Ω–µ–≥–æ —Å—Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –æ–ø—Ü–∏–π, —á—Ç–æ —ç—Ç–æ\" \\n00:16: \"–¥–æ—Å—Ç–æ–π–Ω–æ —Ü–µ–ª–æ–≥–æ –≤—ã–ø—É—Å–∫–∞.\" \\n00:18: \"–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∑–∞—á–µ–º —ç—Ç–æ –≤—Å—ë –Ω–∞–¥–æ, –Ω–∞–¥–æ\" \\n00:20: \"—Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —á—Ç–æ –≤–æ–æ–±—â–µ —Ç–∞–∫–æ–µ\""
            },
            {
              "type": "AIMessagePromptTemplate",
              "message": "00:00: \"–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç. –Ø –°–∞—à–∞, —ç—Ç–æ Vibe Business.\"\\n00:03: \"–°–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ –Ω–æ–¥–µ Merge. –≠—Ç–æ —Ç–∞–∫–æ–π –º–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ –≥–æ—Ä–¥—ã–π —É–∑–µ–ª, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç, –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ, –Ω–µ–º–Ω–æ–≥–æ. –û–Ω –ø—Ä–æ—Å—Ç–æ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –º–∞—Å—Å–∏–≤—ã, –Ω–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ —Å —Ç–∞–∫–∏–º –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–ø–æ—Å–æ–±–æ–≤. –£ –Ω–µ–≥–æ —Å—Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –æ–ø—Ü–∏–π, —á—Ç–æ —ç—Ç–æ –¥–æ—Å—Ç–æ–π–Ω–æ —Ü–µ–ª–æ–≥–æ –≤—ã–ø—É—Å–∫–∞.\"\\n00:18: \"–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∑–∞—á–µ–º —ç—Ç–æ –≤—Å—ë –Ω–∞–¥–æ, –Ω–∞–¥–æ —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —á—Ç–æ –≤–æ–æ–±—â–µ —Ç–∞–∫–æ–µ –º–∞—Å—Å–∏–≤—ã.\""
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "## –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞: N8N Tutorials  \\n\\n## –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ: –†–∞–±–æ—Ç–∞ —Å –º–∞—Å—Å–∏–≤–∞–º–∏  \\n\\n## –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è: \\n00:22: \"–ú–∞—Å—Å–∏–≤ - —ç—Ç–æ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è\" \\n00:24: \"–∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç\" \\n00:26: \"–¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å–≤–æ–µ–º—É –∏–Ω–¥–µ–∫—Å—É. –í–æ—Ç –º–∞—Å—Å–∏–≤ —Å\" \\n00:28: \"—Ñ—Ä—É–∫—Ç–∞–º–∏, –∞ —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Å —Ü–∏—Ñ—Ä–∞–º–∏. –í–æ–æ–±—â–µ\" \\n00:31: \"–º–∞—Å—Å–∏–≤—ã –º–Ω–æ–≥–æ —á–µ–≥–æ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å,\" \\n00:32: \"–≤–ø–ª–æ—Ç—å –¥–æ –º–∞—Å—Å–∏–≤–æ–≤ —Å –º–∞—Å—Å–∏–≤–∞–º–∏, –≤\" \\n00:34: \"–∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è –¥—Ä—É–≥–∏–µ –º–∞—Å—Å–∏–≤—ã\" \\n00:36: \"—Å –º–∞—Å—Å–∏–≤–∞–º–∏, –ø–æ–ª–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã. –ù—É, –≤—ã\" \\n00:38: \"–ø–æ–Ω—è–ª–∏\""
            },
            {
              "type": "AIMessagePromptTemplate",
              "message": "00:22: \"–ú–∞—Å—Å–∏–≤ - —ç—Ç–æ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å–≤–æ–µ–º—É –∏–Ω–¥–µ–∫—Å—É. –í–æ—Ç –º–∞—Å—Å–∏–≤ —Å —Ñ—Ä—É–∫—Ç–∞–º–∏, –∞ —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Å —Ü–∏—Ñ—Ä–∞–º–∏.\"\\n00:31: \"–í–æ–æ–±—â–µ –º–∞—Å—Å–∏–≤—ã –º–Ω–æ–≥–æ —á–µ–≥–æ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å, –≤–ø–ª–æ—Ç—å –¥–æ –º–∞—Å—Å–∏–≤–æ–≤ —Å –º–∞—Å—Å–∏–≤–∞–º–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è –¥—Ä—É–≥–∏–µ –º–∞—Å—Å–∏–≤—ã —Å –º–∞—Å—Å–∏–≤–∞–º–∏, –ø–æ–ª–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã. –ù—É, –≤—ã –ø–æ–Ω—è–ª–∏.\""
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "## –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞: Automation Channel  \\n\\n## –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ø–ª–∏—Ç –∏–Ω –±–∞—Ç—á–µ—Å  \\n\\n## –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è: \\n00:45: \"–°–µ–π—á–∞—Å –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–¥—É\" \\n00:47: \"—Å–ø–ª–∏—Ç –∏–Ω –±–∞—Ç—á–µ—Å, –∫–æ—Ç–æ—Ä–∞—è\" \\n00:49: \"—Ä–∞–∑–¥–µ–ª—è–µ—Ç –∞–π—Ç–µ–º—ã –Ω–∞ –≥—Ä—É–ø–ø—ã\" \\n00:51: \"–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ —Å–ª–µ–¥—É—é—â–∏–π –Ω–æ–¥\" \\n00:53: \"–ø–æ—Ä—Ü–∏—è–º–∏. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –∫–æ–≥–¥–∞\" \\n00:55: \"—É –≤–∞—Å API —Å –ª–∏–º–∏—Ç–∞–º–∏\""
            },
            {
              "type": "AIMessagePromptTemplate",
              "message": "00:45: \"–°–µ–π—á–∞—Å –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–¥—É Split In Batches, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–∑–¥–µ–ª—è–µ—Ç items –Ω–∞ –≥—Ä—É–ø–ø—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ —Å–ª–µ–¥—É—é—â–∏–π node –ø–æ—Ä—Ü–∏—è–º–∏.\"\\n00:53: \"–≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –∫–æ–≥–¥–∞ —É –≤–∞—Å API —Å –ª–∏–º–∏—Ç–∞–º–∏.\""
            }
          ]
        },
        "batching": {
          "batchSize": 5,
          "delayBetweenBatches": 1000
        }
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        1456,
        64
      ],
      "id": "ab18444f-c86e-47f0-b0d7-2bf5ccd4181a",
      "name": "Transcript Editor",
      "retryOnFail": true,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        3856,
        64
      ],
      "id": "621f721d-2a13-4e79-acf1-6e970d53f25e",
      "name": "Merge1"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "41ffb4ec-800a-400a-a16b-2d3d04f473e5",
              "leftValue": "={{ $json.output.content_type }}",
              "rightValue": "dialogue",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        4032,
        64
      ],
      "id": "9501f5a9-27f6-4495-ad2a-0897497e760e",
      "name": "If Monologue"
    },
    {
      "parameters": {
        "jsCode": "const text = $('Format Transcript').first().json.text || '';\nconst maxCharsPerChunk = 6000;\nconst chunks = [];\n\n// –∑–∞—â–∏—Ç–∞ –æ—Ç –ø—É—Å—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞\nif (!text || text.length === 0) {\n  return [];\n}\n\n// —Ä–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã (2 –∏ –±–æ–ª–µ–µ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—á–∏—Ç–∞–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º)\nconst paragraphs = text.split(/\\n{2,}/).map(p => p.trim()).filter(p => p.length > 0);\n\nlet currentChunk = '';\n\n// –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è ‚Äî –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–µ–º—Å—è –æ—Ç –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ —Ä–∞–∑—Ä—ã–≤–∞—Ç—å —Å–ª–æ–≤–∞\nfunction splitLongParagraph(paragraph, limit) {\n  const parts = [];\n  // —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–±–µ–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã, —á—Ç–æ–±—ã –Ω–µ —Å–∫–ª–µ–∏–≤–∞—Ç—å —Å–ª–æ–≤–∞\n  const tokens = paragraph.split(/(\\s+)/);\n  let part = '';\n\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n\n    if ((part.length + token.length) <= limit) {\n      part += token;\n      continue;\n    }\n\n    // –µ—Å–ª–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–µ –µ—Å—Ç—å ‚Äî –ø—É—à–∏–º\n    if (part.length > 0) {\n      parts.push(part);\n      part = '';\n    }\n\n    // –µ—Å–ª–∏ —Å–∞–º —Ç–æ–∫–µ–Ω –≤–ª–µ–∑–µ—Ç –≤ –ø—É—Å—Ç–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Äî –ø–æ–ª–æ–∂–∏–º –≤ part\n    if (token.length <= limit) {\n      part = token;\n    } else {\n      // —Ç–æ–∫–µ–Ω –¥–ª–∏–Ω–Ω–µ–µ –ª–∏–º–∏—Ç–∞ ‚Äî —Ä–µ–∂–µ–º –∂—ë—Å—Ç–∫–æ –ø–æ —Å–∏–º–≤–æ–ª–∞–º\n      let start = 0;\n      while (start < token.length) {\n        parts.push(token.substring(start, start + limit));\n        start += limit;\n      }\n      part = '';\n    }\n  }\n\n  if (part.length > 0) parts.push(part);\n  return parts;\n}\n\n// –æ—Å–Ω–æ–≤–Ω–∞—è —Å–±–æ—Ä–∫–∞ —á–∞–Ω–∫–æ–≤\nfor (let i = 0; i < paragraphs.length; i++) {\n  const para = paragraphs[i];\n  const sep = currentChunk ? '\\n\\n' : '';\n  const candidate = currentChunk + sep + para;\n\n  if (candidate.length <= maxCharsPerChunk) {\n    // –ø–æ–º–µ—â–∞–µ—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º\n    currentChunk = candidate;\n    continue;\n  }\n\n  // candidate –Ω–µ –≤–ª–µ–∑ ‚Äî —Å–Ω–∞—á–∞–ª–∞ –ø—É—à–∏–º —Ç–µ–∫—É—â–∏–π —á–∞–Ω–∫, –µ—Å–ª–∏ –æ–Ω –Ω–µ –ø—É—Å—Ç\n  if (currentChunk.length > 0) {\n    chunks.push(currentChunk.trim());\n    currentChunk = '';\n  }\n\n  // —Ç–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–æ—Ç–∞–µ–º —Å–∞–º –ø–∞—Ä–∞–≥—Ä–∞—Ñ\n  if (para.length <= maxCharsPerChunk) {\n    // –ø–∞—Ä–∞–≥—Ä–∞—Ñ –≤–ª–µ–∑–∞–µ—Ç –≤ –ø—É—Å—Ç–æ–π —á–∞–Ω–∫\n    currentChunk = para;\n  } else {\n    // –ø–∞—Ä–∞–≥—Ä–∞—Ñ –¥–ª–∏–Ω–Ω—ã–π ‚Äî —Ä–∞–∑–±–∏–≤–∞–µ–º –∏ –ø—É—à–∏–º —á–∞—Å—Ç–∏\n    const parts = splitLongParagraph(para, maxCharsPerChunk);\n    for (let p = 0; p < parts.length; p++) {\n      // –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç parts –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ <= limit\n      // –ï—Å–ª–∏ —Å–ª–µ–¥—É—é—â–∏–π part –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ç–µ–∫—É—â–µ–º—É —á–∞–Ω–∫—É ‚Äî \n      // –Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Å—Ç–æ –ø—É—à–∏–º –∏—Ö –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞–Ω–∫–∏.\n      chunks.push(parts[p].trim());\n    }\n    currentChunk = '';\n  }\n}\n\n// –ø—É—à–∏–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞–Ω–∫, –µ—Å–ª–∏ –æ—Å—Ç–∞–ª—Å—è\nif (currentChunk.trim().length > 0) {\n  chunks.push(currentChunk.trim());\n}\n\n// —Ñ–æ—Ä–º–∏—Ä—É–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π output –≤ —Ñ–æ—Ä–º–∞—Ç–µ n8n\nconst totalChunks = chunks.length;\nconst output = chunks.map((textChunk, idx) => ({\n  json: {\n    readable_text: textChunk,\n    chunk_number: idx + 1,\n    total_chunks: totalChunks\n  }\n}));\n\nreturn output;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2464,
        224
      ],
      "id": "f024d941-0f19-4373-9ce1-6492ca65441a",
      "name": "Text Chunk Splitter2"
    },
    {
      "parameters": {
        "keep": "lastItems"
      },
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        2688,
        224
      ],
      "id": "935ca5ae-67df-490e-b90e-08db42f5f53a",
      "name": "Limit"
    },
    {
      "parameters": {
        "jsCode": "let text = $input.item.json.text;\n\n// –ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ - –æ–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã\nif (Array.isArray(text)) {\n  text = text.join('\\n');\n}\n\n// –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —Å—Ç—Ä–æ–∫—É –µ—Å–ª–∏ –Ω—É–∂–Ω–æ\ntext = String(text);\n\n// –£–±–∏—Ä–∞–µ–º —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ\ntext = text.replace(/\\\\n/g, '\\n');\ntext = text.replace(/^\"|\"$/g, '');\ntext = text.replace(/: \"([^\"]+)\"/g, ': $1');\ntext = text.replace(/(\\n)(\\[–°–ø–∏–∫–µ—Ä)/g, '\\n\\n$2');\n\nreturn {\n  json: {\n    formatted_text: text\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        5296,
        48
      ],
      "id": "f5a09857-8ce1-4283-9a73-9db2c3089d89",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "operation": "upsert",
        "dataTableId": {
          "__rl": true,
          "value": "xG0I4oZxYhcw4PCy",
          "mode": "list",
          "cachedResultName": "GazelleType Users",
          "cachedResultUrl": "/projects/p3GMtxtvjqS5Zrzz/datatables/xG0I4oZxYhcw4PCy"
        },
        "filters": {
          "conditions": [
            {
              "keyName": "tg_id",
              "keyValue": "={{ $json.tg_id }}"
            }
          ]
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Count": "={{ $json.Count + 1 }} "
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "tg_id",
              "displayName": "tg_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "username",
              "displayName": "username",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Count",
              "displayName": "Count",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        5616,
        272
      ],
      "id": "2e01a5bc-cb6a-4ca7-9513-72b2595c7b22",
      "name": "Update Count"
    },
    {
      "parameters": {
        "operation": "get",
        "dataTableId": {
          "__rl": true,
          "value": "xG0I4oZxYhcw4PCy",
          "mode": "list",
          "cachedResultName": "GazelleType Users",
          "cachedResultUrl": "/projects/p3GMtxtvjqS5Zrzz/datatables/xG0I4oZxYhcw4PCy"
        },
        "filters": {
          "conditions": [
            {
              "keyName": "tg_id",
              "keyValue": "={{ $json.result.chat.id }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        5392,
        272
      ],
      "id": "191b4368-7657-4bfd-befd-6f7a9a3bd3c2",
      "name": "Get Count"
    },
    {
      "parameters": {
        "dataTableId": {
          "__rl": true,
          "value": "xG0I4oZxYhcw4PCy",
          "mode": "list",
          "cachedResultName": "GazelleType Users",
          "cachedResultUrl": "/projects/p3GMtxtvjqS5Zrzz/datatables/xG0I4oZxYhcw4PCy"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "tg_id": "={{ $json.message.from.id }}",
            "username": "={{ $json.message.from.username }}",
            "Count": 0
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "tg_id",
              "displayName": "tg_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "username",
              "displayName": "username",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Count",
              "displayName": "Count",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        800,
        256
      ],
      "id": "01a2f56d-f56d-44b8-a940-5179d009b88a",
      "name": "Insert row"
    },
    {
      "parameters": {
        "operation": "rowNotExists",
        "dataTableId": {
          "__rl": true,
          "value": "xG0I4oZxYhcw4PCy",
          "mode": "list",
          "cachedResultName": "GazelleType Users",
          "cachedResultUrl": "/projects/p3GMtxtvjqS5Zrzz/datatables/xG0I4oZxYhcw4PCy"
        },
        "filters": {
          "conditions": [
            {
              "keyName": "tg_id",
              "keyValue": "={{ $json.message.from.id }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        576,
        256
      ],
      "id": "cb7ff5d0-cc90-425a-8a3b-e38f9d668165",
      "name": "If User Does Not Exist"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"text\": \"–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å —Ç–∞–π–º–∫–æ–¥–∞–º–∏\"\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        1664,
        288
      ],
      "id": "53fb0980-c7ea-4cf2-8e86-2318e4cf4b42",
      "name": "Structured Output Parser3"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {
          "temperature": 0.2
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1968,
        512
      ],
      "id": "6e8b34a1-25f7-4c72-aa5e-1b9a807a6d52",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "mFbjb8lko4SGtu8o",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "options": {
          "temperature": 0.2
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        2096,
        512
      ],
      "id": "41853098-1980-44cd-9631-e09cfaca3f2a",
      "name": "DeepSeek Chat Model4",
      "credentials": {
        "deepSeekApi": {
          "id": "B1xqh7Q9nCK0QDrN",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=## –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞: \n{{ $('YouTube Video Info').first().json.author_name }}\n\n## –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ: \n{{ $('YouTube Video Info').first().json.title }}\n\n## –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è:\n{{ $json.readable_text }}",
        "hasOutputParser": true,
        "needsFallback": true,
        "messages": {
          "messageValues": [
            {
              "message": "# –¢—ã - —Ä–µ–¥–∞–∫—Ç–æ—Ä –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π YouTube –≤–∏–¥–µ–æ.\n\n## –¢–í–û–ò –ó–ê–î–ê–ß–ò:\n\n1. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –º–µ–ª–∫–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –≤ —Å–º—ã—Å–ª–æ–≤—ã–µ –±–ª–æ–∫–∏ (1-3 –∑–∞–∫–æ–Ω—á–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)\n\n2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ (ASR)\n\n3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞–≤—Ç–æ—Ä—Å–∫–∏–π —Å—Ç–∏–ª—å –∏ –∏–Ω—Ç–æ–Ω–∞—Ü–∏—é\n\n4. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã n8n\n\n5. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞, –µ—Å–ª–∏ –æ–Ω–æ –æ–∑–≤—É—á–µ–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ\n\n## –ü–†–ê–í–ò–õ–ê –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–Ø:\n\n* –¢–∞–π–º–∫–æ–¥ –¢–û–õ–¨–ö–û –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–º—ã—Å–ª–æ–≤–æ–≥–æ –±–ª–æ–∫–∞\n\n* –û–±—ä–µ–¥–∏–Ω—è–π —Ä–∞–∑–æ—Ä–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≤ —Ü–µ–ª—ã–µ –±–ª–æ–∫–∏\n\n* –ë–ª–æ–∫ = 1-3 –∑–∞–∫–æ–Ω—á–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —Å–º—ã—Å–ª—É\n\n* –§–æ—Ä–º–∞—Ç: MM:SS: \"—Ç–µ–∫—Å—Ç –±–ª–æ–∫–∞\"\\n\n\n## –ß–ê–°–¢–´–ï –û–®–ò–ë–ö–ò ASR –î–õ–Ø n8n:\n\n* –Ω–æ–º–µch, –º–µ—Ä—á, –º—ë—Ä–∂ ‚Üí node Merge\n\n* –∏–Ω–ø—É—Ç, –∏–º–ø—É—Ç ‚Üí input\n\n* –∞—É—Ç–ø—É—Ç ‚Üí output\n\n* –∞–π—Ç–µ–º, –∏—Ç–µ–º ‚Üí item\n\n* –≤–æ—Ä–∫—Ñ–ª–æ—É ‚Üí workflow\n\n* —Ç—Ä–∏–≥–≥–µ—Ä ‚Üí trigger\n\n* –Ω–æ–¥—ã, –Ω–æ–¥–∞ ‚Üí node, nodes\n\n* —Å–ø–ª–∏—Ç ‚Üí Split\n\n* –∞–≥—Ä–µ–≥–∞—Ç, –∞–≥—Ä–µ–≥–µ–π—Ç ‚Üí Aggregate\n\n* —Å–≤–∏—Ç—á ‚Üí Switch\n\n* —Å–µ—Ç ‚Üí Set\n\n## –§–û–†–ú–ê–¢ –í–´–í–û–î–ê:\n\n–í–µ—Ä–Ω–∏ **–°–¢–†–û–ì–û** JSON –±–µ–∑ markdown –±–ª–æ–∫–æ–≤:\n{\n  \"text\": \"–æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å —Ç–∞–π–º–∫–æ–¥–∞–º–∏\"\n}\n\n**–ù–ï** –¥–æ–±–∞–≤–ª—è–π ```json –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç–µ–∫—Å—Ç!"
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "## –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞: Vibe Business  \\n\\n## –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ: Node Merge –≤ n8n  \\n\\n## –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è: \\n00:00: \"–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç. –Ø –°–∞—à–∞, —ç—Ç–æ VI –±–∏–∑–Ω–µ—Å.\" \\n00:03: \"–°–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ –Ω–æ–º–µch. –≠—Ç–æ —Ç–∞–∫–æ–π\" \\n00:05: \"–º–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ –≥–æ—Ä–¥—ã–π —É–∑–µ–ª, –∫–æ—Ç–æ—Ä—ã–π\" \\n00:07: \"–¥–µ–ª–∞–µ—Ç, –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ, –Ω–µ–º–Ω–æ–≥–æ. –û–Ω –ø—Ä–æ—Å—Ç–æ\" \\n00:09: \"—Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –º–∞—Å—Å–∏–≤—ã, –Ω–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ\" \\n00:11: \"—Å —Ç–∞–∫–∏–º –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–ø–æ—Å–æ–±–æ–≤. –£\" \\n00:13: \"–Ω–µ–≥–æ —Å—Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –æ–ø—Ü–∏–π, —á—Ç–æ —ç—Ç–æ\" \\n00:16: \"–¥–æ—Å—Ç–æ–π–Ω–æ —Ü–µ–ª–æ–≥–æ –≤—ã–ø—É—Å–∫–∞.\" \\n00:18: \"–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∑–∞—á–µ–º —ç—Ç–æ –≤—Å—ë –Ω–∞–¥–æ, –Ω–∞–¥–æ\" \\n00:20: \"—Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —á—Ç–æ –≤–æ–æ–±—â–µ —Ç–∞–∫–æ–µ\""
            },
            {
              "type": "AIMessagePromptTemplate",
              "message": "00:00: \"–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç. –Ø –°–∞—à–∞, —ç—Ç–æ Vibe Business.\"\\n00:03: \"–°–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ –Ω–æ–¥–µ Merge. –≠—Ç–æ —Ç–∞–∫–æ–π –º–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ –≥–æ—Ä–¥—ã–π —É–∑–µ–ª, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç, –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ, –Ω–µ–º–Ω–æ–≥–æ. –û–Ω –ø—Ä–æ—Å—Ç–æ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –º–∞—Å—Å–∏–≤—ã, –Ω–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ —Å —Ç–∞–∫–∏–º –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–ø–æ—Å–æ–±–æ–≤. –£ –Ω–µ–≥–æ —Å—Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –æ–ø—Ü–∏–π, —á—Ç–æ —ç—Ç–æ –¥–æ—Å—Ç–æ–π–Ω–æ —Ü–µ–ª–æ–≥–æ –≤—ã–ø—É—Å–∫–∞.\"\\n00:18: \"–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∑–∞—á–µ–º —ç—Ç–æ –≤—Å—ë –Ω–∞–¥–æ, –Ω–∞–¥–æ —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —á—Ç–æ –≤–æ–æ–±—â–µ —Ç–∞–∫–æ–µ –º–∞—Å—Å–∏–≤—ã.\""
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "## –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞: N8N Tutorials  \\n\\n## –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ: –†–∞–±–æ—Ç–∞ —Å –º–∞—Å—Å–∏–≤–∞–º–∏  \\n\\n## –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è: \\n00:22: \"–ú–∞—Å—Å–∏–≤ - —ç—Ç–æ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è\" \\n00:24: \"–∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç\" \\n00:26: \"–¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å–≤–æ–µ–º—É –∏–Ω–¥–µ–∫—Å—É. –í–æ—Ç –º–∞—Å—Å–∏–≤ —Å\" \\n00:28: \"—Ñ—Ä—É–∫—Ç–∞–º–∏, –∞ —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Å —Ü–∏—Ñ—Ä–∞–º–∏. –í–æ–æ–±—â–µ\" \\n00:31: \"–º–∞—Å—Å–∏–≤—ã –º–Ω–æ–≥–æ —á–µ–≥–æ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å,\" \\n00:32: \"–≤–ø–ª–æ—Ç—å –¥–æ –º–∞—Å—Å–∏–≤–æ–≤ —Å –º–∞—Å—Å–∏–≤–∞–º–∏, –≤\" \\n00:34: \"–∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è –¥—Ä—É–≥–∏–µ –º–∞—Å—Å–∏–≤—ã\" \\n00:36: \"—Å –º–∞—Å—Å–∏–≤–∞–º–∏, –ø–æ–ª–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã. –ù—É, –≤—ã\" \\n00:38: \"–ø–æ–Ω—è–ª–∏\""
            },
            {
              "type": "AIMessagePromptTemplate",
              "message": "00:22: \"–ú–∞—Å—Å–∏–≤ - —ç—Ç–æ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å–≤–æ–µ–º—É –∏–Ω–¥–µ–∫—Å—É. –í–æ—Ç –º–∞—Å—Å–∏–≤ —Å —Ñ—Ä—É–∫—Ç–∞–º–∏, –∞ —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Å —Ü–∏—Ñ—Ä–∞–º–∏.\"\\n00:31: \"–í–æ–æ–±—â–µ –º–∞—Å—Å–∏–≤—ã –º–Ω–æ–≥–æ —á–µ–≥–æ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å, –≤–ø–ª–æ—Ç—å –¥–æ –º–∞—Å—Å–∏–≤–æ–≤ —Å –º–∞—Å—Å–∏–≤–∞–º–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è –¥—Ä—É–≥–∏–µ –º–∞—Å—Å–∏–≤—ã —Å –º–∞—Å—Å–∏–≤–∞–º–∏, –ø–æ–ª–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã. –ù—É, –≤—ã –ø–æ–Ω—è–ª–∏.\""
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "## –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞: Automation Channel  \\n\\n## –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ø–ª–∏—Ç –∏–Ω –±–∞—Ç—á–µ—Å  \\n\\n## –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è: \\n00:45: \"–°–µ–π—á–∞—Å –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–¥—É\" \\n00:47: \"—Å–ø–ª–∏—Ç –∏–Ω –±–∞—Ç—á–µ—Å, –∫–æ—Ç–æ—Ä–∞—è\" \\n00:49: \"—Ä–∞–∑–¥–µ–ª—è–µ—Ç –∞–π—Ç–µ–º—ã –Ω–∞ –≥—Ä—É–ø–ø—ã\" \\n00:51: \"–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ —Å–ª–µ–¥—É—é—â–∏–π –Ω–æ–¥\" \\n00:53: \"–ø–æ—Ä—Ü–∏—è–º–∏. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –∫–æ–≥–¥–∞\" \\n00:55: \"—É –≤–∞—Å API —Å –ª–∏–º–∏—Ç–∞–º–∏\""
            },
            {
              "type": "AIMessagePromptTemplate",
              "message": "00:45: \"–°–µ–π—á–∞—Å –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–¥—É Split In Batches, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–∑–¥–µ–ª—è–µ—Ç items –Ω–∞ –≥—Ä—É–ø–ø—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ —Å–ª–µ–¥—É—é—â–∏–π node –ø–æ—Ä—Ü–∏—è–º–∏.\"\\n00:53: \"–≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –∫–æ–≥–¥–∞ —É –≤–∞—Å API —Å –ª–∏–º–∏—Ç–∞–º–∏.\""
            }
          ]
        },
        "batching": {
          "batchSize": 1,
          "delayBetweenBatches": 1000
        }
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        2016,
        288
      ],
      "id": "63080d52-e5bd-41e5-9cea-85f8e0f4237d",
      "name": "Transcript Editor1",
      "retryOnFail": true
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"text\": \"–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å —Ç–∞–π–º–∫–æ–¥–∞–º–∏\"\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        2224,
        512
      ],
      "id": "dd782805-227d-406a-9cd0-122755018945",
      "name": "Structured Output Parser4"
    },
    {
      "parameters": {
        "model": "deepseek-reasoner",
        "options": {
          "temperature": 0.2
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        3408,
        656
      ],
      "id": "a0a8f747-8bc0-4db0-9522-144dc0a648a9",
      "name": "DeepSeek Chat Model1",
      "credentials": {
        "deepSeekApi": {
          "id": "B1xqh7Q9nCK0QDrN",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=## –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 6000 —Å–∏–º–≤–æ–ª–æ–≤): \n\n{{ $json.readable_text }}\n",
        "hasOutputParser": true,
        "needsFallback": true,
        "messages": {
          "messageValues": [
            {
              "message": "=–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –∏ –æ–ø—Ä–µ–¥–µ–ª–∏, —ç—Ç–æ –º–æ–Ω–æ–ª–æ–≥ –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –∏–ª–∏ –¥–∏–∞–ª–æ–≥/–±–µ—Å–µ–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ª—é–¥–µ–π. \n\n## –ü–†–ò–ó–ù–ê–ö–ò –î–ò–ê–õ–û–ì–ê: \n\n* –°–º–µ–Ω–∞ —Å—Ç–∏–ª—è —Ä–µ—á–∏ \n\n* –í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –≥–æ–ª–æ—Å–∞–º–∏ \n\n* –û–±—Ä–∞—â–µ–Ω–∏—è (\"—Ç—ã —Å–∫–∞–∑–∞–ª\", \"–∫–∞–∫ —Ç—ã –¥—É–º–∞–µ—à—å\") \n\n* –Ø–≤–Ω–∞—è —Å–º–µ–Ω–∞ —Ç–µ–º/–º–Ω–µ–Ω–∏–π  \n\n## –ü–†–ò–ó–ù–ê–ö–ò –ú–û–ù–û–õ–û–ì–ê: \n\n* –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∏–∑–ª–æ–∂–µ–Ω–∏—è \n\n* –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ \n\n* –ê–≤—Ç–æ—Ä –≥–æ–≤–æ—Ä–∏—Ç –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –ª–∏—Ü–∞ –±–µ–∑ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤  \n\n–í–µ—Ä–Ω–∏ –°–¢–†–û–ì–û –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –ë–ï–ó markdown –±–ª–æ–∫–æ–≤, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞:\n{\n  \"content_type\": \"monologue\" –∏–ª–∏ \"dialogue\",\n  \"speakers_count\": —á–∏—Å–ª–æ,\n  \"confidence\": \"high/medium/low\",\n  \"reasoning\": \"–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ\"\n}\n\n–ù–ï –¥–æ–±–∞–≤–ª—è–π json –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ç–µ–∫—Å—Ç!\n\n‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:\n{\"text\": \"{\\\"content_type\\\": \\\"dialogue\\\"}\"}\n{\"result\": {\"content_type\": \"dialogue\"}}\n```json\\n{\"content_type\": \"dialogue\"}\\n```\n\n‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:\n{\"content_type\": \"dialogue\", \"speakers_count\": 2, \"confidence\": \"high\", \"reasoning\": \"...\"}\n"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        3328,
        432
      ],
      "id": "b8f41505-511a-4b98-b3e6-d7c46ea04224",
      "name": "Detect Dialogue vs Monologue1",
      "retryOnFail": true
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"content_type\": \"string\",\n  \"speakers_count\": \"number\",\n  \"confidence\": \"string\",\n  \"reasoning\": \"string\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        3536,
        656
      ],
      "id": "34e211f3-0d8e-4229-b931-fd84c122d88b",
      "name": "Structured Output Parser1"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {
          "temperature": 0.2
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        3280,
        656
      ],
      "id": "cf58f9d9-633a-46b7-8145-bb03b4fc592d",
      "name": "OpenAI Chat Model9",
      "credentials": {
        "openAiApi": {
          "id": "mFbjb8lko4SGtu8o",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=## –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞: \n{{ $('YouTube Video Info').first().json.author_name }}\n\n## –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ: \n{{ $('YouTube Video Info').first().json.title }}\n\n## –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è:\n{{ $json.readable_text }}\n\n",
        "hasOutputParser": true,
        "needsFallback": true,
        "messages": {
          "messageValues": [
            {
              "message": "# –¢—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ speaker diarization (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é —Å–ø–∏–∫–µ—Ä–æ–≤ –≤ –∞—É–¥–∏–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è—Ö).\n\n## –¢–í–û–ò –ó–ê–î–ê–ß–ò:\n\n* –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–º–µ–Ω—Ç—ã —Å–º–µ–Ω—ã —Å–ø–∏–∫–µ—Ä–∞\n\n* –†–∞–∑–º–µ—Ç–∏—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é\n\n## –ö–†–ò–¢–ï–†–ò–ò –°–ú–ï–ù–´ –°–ü–ò–ö–ï–†–ê:\n\n### ‚úÖ –Ø–í–ù–´–ï –ø—Ä–∏–∑–Ω–∞–∫–∏ —Å–º–µ–Ω—ã:\n\n* –í–æ–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç (\"–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?\" ‚Üí \"–û–±—ä—è—Å–Ω—é\")\n\n* –ü—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ (\"–¢—ã —É–ø–æ–º—è–Ω—É–ª...\", \"–ß—Ç–æ —Å–∫–∞–∂–µ—à—å?\")\n\n* –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (\"–Ø –°–∞—à–∞\", \"–ê —è –≥–æ—Å—Ç—å –ò–≤–∞–Ω\")\n\n* –†–µ–∑–∫–∞—è —Å–º–µ–Ω–∞ —Å—Ç–∏–ª—è —Ä–µ—á–∏ (—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π ‚Üî —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π)\n\n* –ü–µ—Ä–µ–±–∏–≤–∞–Ω–∏–µ, –≤–∫–ª–∏–Ω–∏–≤–∞–Ω–∏–µ –≤ —Ä–µ—á—å\n\n### ‚ùå –ù–ï —è–≤–ª—è—é—Ç—Å—è —Å–º–µ–Ω–æ–π —Å–ø–∏–∫–µ—Ä–∞:\n\n* –†–∏—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ (\"–ò —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç? –ê –≤–æ—Ç —á—Ç–æ...\")\n\n* –°–º–µ–Ω–∞ —Ç–µ–º—ã –≤ –º–æ–Ω–æ–ª–æ–≥–µ\n\n* –¶–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (\"–û–Ω —Å–∫–∞–∑–∞–ª: '–ø—Ä–∏–≤–µ—Ç'\" - —ç—Ç–æ –æ–¥–∏–Ω —Å–ø–∏–∫–µ—Ä)\n\n* –ü–∞—É–∑—ã –∏ –º–µ–∂–¥–æ–º–µ—Ç–∏—è (\"–•–º... –Ω—É... –∫–æ—Ä–æ—á–µ...\")\n\n## –ü–†–ê–í–ò–õ–ê –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–Ø:\n\n1. –§–æ—Ä–º–∞—Ç: [–°–ø–∏–∫–µ—Ä N] MM:SS: \"—Ç–µ–∫—Å—Ç —Ä–µ–ø–ª–∏–∫–∏\"\n\n2. –ö–∞–∂–¥–∞—è —Ä–µ–ø–ª–∏–∫–∞ - –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞\n\n3. –ì—Ä—É–ø–ø–∏—Ä—É–π –ø–æ–¥—Ä—è–¥ –∏–¥—É—â–∏–µ —Ñ—Ä–∞–∑—ã –æ–¥–Ω–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞ –≤ –û–î–ù–£ —Ä–µ–ø–ª–∏–∫—É\n\n4. –°–æ—Ö—Ä–∞–Ω—è–π —Ç–∞–π–º–∫–æ–¥ —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—á–∞–ª–µ —Ä–µ–ø–ª–∏–∫–∏ —Å–ø–∏–∫–µ—Ä–∞\n\n5. –ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è - –ù–ï —Ä–∞–∑–¥–µ–ª—è–π (–ª—É—á—à–µ –æ–¥–∏–Ω —Å–ø–∏–∫–µ—Ä)\n\n–í–æ–∑–≤—Ä–∞—â–∞–π **–¢–û–õ–¨–ö–û** —Ä–∞–∑–º–µ—á–µ–Ω–Ω—É—é —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é. –ù–∏–∫–∞–∫–∏—Ö –æ–±—ä—è—Å–Ω–µ–Ω–∏–π –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.\n\n## –§–û–†–ú–ê–¢ –í–´–í–û–î–ê:\n\n–í–µ—Ä–Ω–∏ **–°–¢–†–û–ì–û** JSON –±–µ–∑ markdown –±–ª–æ–∫–æ–≤:\n{\n  \"text\": \"–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å —Ç–∞–π–º–∫–æ–¥–∞–º–∏\"\n}\n\n**–ù–ï** –¥–æ–±–∞–≤–ª—è–π ```json –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç–µ–∫—Å—Ç!\n"
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "10.5: '–ü—Ä–∏–≤–µ—Ç, —è –°–∞—à–∞' 25.3: '–ê —è –≥–æ—Å—Ç—å –ò–≤–∞–Ω' 40.1: '–†–∞—Å—Å–∫–∞–∂–∏ –æ n8n"
            },
            {
              "type": "AIMessagePromptTemplate",
              "message": "[–°–ø–∏–∫–µ—Ä 1] 10.5: '–ü—Ä–∏–≤–µ—Ç, —è –°–∞—à–∞' \n[–°–ø–∏–∫–µ—Ä 2] 25.3: '–ê —è –≥–æ—Å—Ç—å –ò–≤–∞–Ω'   \n[–°–ø–∏–∫–µ—Ä 2] 40.1: '–†–∞—Å—Å–∫–∞–∂–∏ –æ n8n'"
            },
            {
              "type": "HumanMessagePromptTemplate",
              "message": "00:00: \"–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç. –Ø –°–∞—à–∞, —ç—Ç–æ Vibe Business.\"\\n00:03: \"–ü—Ä–∏–≤–µ—Ç! –ê —è –ù–∏–∫–æ–ª–∞–π. –°–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ –Ω–æ–¥–µ Merge. –≠—Ç–æ —Ç–∞–∫–æ–π\"\\n00:05: \"–º–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ –≥–æ—Ä–¥—ã–π —É–∑–µ–ª, –∫–æ—Ç–æ—Ä—ã–π\"\\n00:07: \"–¥–µ–ª–∞–µ—Ç, –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ, –Ω–µ–º–Ω–æ–≥–æ. –û–Ω –ø—Ä–æ—Å—Ç–æ\"\\n00:09: \"—Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –º–∞—Å—Å–∏–≤—ã, –Ω–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ\"\\n00:11: \"—Å —Ç–∞–∫–∏–º –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–ø–æ—Å–æ–±–æ–≤. –£\"\\n00:13: \"–Ω–µ–≥–æ —Å—Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –æ–ø—Ü–∏–π, —á—Ç–æ —ç—Ç–æ\"\\n00:16: \"–¥–æ—Å—Ç–æ–π–Ω–æ —Ü–µ–ª–æ–≥–æ –≤—ã–ø—É—Å–∫–∞.\"\\n"
            },
            {
              "type": "AIMessagePromptTemplate",
              "message": "\"[–°–ø–∏–∫–µ—Ä 1] 00:00: \\\"–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç. –Ø –°–∞—à–∞, —ç—Ç–æ Vibe Business.\\\"\\n[–°–ø–∏–∫–µ—Ä 2] 00:03: \\\"–ü—Ä–∏–≤–µ—Ç! –ê —è –ù–∏–∫–æ–ª–∞–π. –°–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ node Merge. –≠—Ç–æ —Ç–∞–∫–æ–π\\\"\\n[–°–ø–∏–∫–µ—Ä 2] 00:05: \\\"–º–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ –≥–æ—Ä–¥—ã–π —É–∑–µ–ª, –∫–æ—Ç–æ—Ä—ã–π\\\"\\n[–°–ø–∏–∫–µ—Ä 2] 00:07: \\\"–¥–µ–ª–∞–µ—Ç, –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ, –Ω–µ–º–Ω–æ–≥–æ. –û–Ω –ø—Ä–æ—Å—Ç–æ\\\"\\n[–°–ø–∏–∫–µ—Ä 2] 00:09: \\\"—Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –º–∞—Å—Å–∏–≤—ã, –Ω–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ\\\"\\n[–°–ø–∏–∫–µ—Ä 2] 00:11: \\\"—Å —Ç–∞–∫–∏–º –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–ø–æ—Å–æ–±–æ–≤. –£\\\"\\n[–°–ø–∏–∫–µ—Ä 2] 00:13: \\\"–Ω–µ–≥–æ —Å—Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –æ–ø—Ü–∏–π, —á—Ç–æ —ç—Ç–æ\\\"\\n[–°–ø–∏–∫–µ—Ä 2] 00:16: \\\"–¥–æ—Å—Ç–æ–π–Ω–æ —Ü–µ–ª–æ–≥–æ –≤—ã–ø—É—Å–∫–∞.\\\"\\n\""
            }
          ]
        },
        "batching": {
          "batchSize": 1,
          "delayBetweenBatches": 1000
        }
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        4800,
        400
      ],
      "id": "6e8fa8e1-1292-4d9d-834f-b19f5e6ca5af",
      "name": "Edit Dialog1",
      "retryOnFail": true
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {
          "temperature": 0.3
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        4736,
        624
      ],
      "id": "38d67871-6900-419f-9a2f-6c8a9267e324",
      "name": "OpenAI Chat Model10",
      "credentials": {
        "openAiApi": {
          "id": "mFbjb8lko4SGtu8o",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"text\": \"–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å —Ç–∞–π–º–∫–æ–¥–∞–º–∏\"\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        4992,
        624
      ],
      "id": "39f7b128-dad8-4b77-a934-b9b66daef465",
      "name": "Structured Output Parser5"
    },
    {
      "parameters": {
        "options": {
          "temperature": 0.2
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        4864,
        624
      ],
      "id": "1bd4940c-6b1f-4afd-933e-b0f3207aaa80",
      "name": "DeepSeek Chat Model5",
      "credentials": {
        "deepSeekApi": {
          "id": "B1xqh7Q9nCK0QDrN",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "18ee1bf2-8f6b-497b-a369-cd630118b8d1",
              "name": "output",
              "value": "={{ $json.output }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        3664,
        208
      ],
      "id": "15e2990f-bed3-4b20-9520-bb6fbc6d49f4",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=## –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 6000 —Å–∏–º–≤–æ–ª–æ–≤): \n\n{{ $json.readable_text }}\n",
        "hasOutputParser": true,
        "needsFallback": true,
        "messages": {
          "messageValues": [
            {
              "message": "=–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –∏ –æ–ø—Ä–µ–¥–µ–ª–∏, —ç—Ç–æ –º–æ–Ω–æ–ª–æ–≥ –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –∏–ª–∏ –¥–∏–∞–ª–æ–≥/–±–µ—Å–µ–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ª—é–¥–µ–π. \n\n## –ü–†–ò–ó–ù–ê–ö–ò –î–ò–ê–õ–û–ì–ê: \n\n* –°–º–µ–Ω–∞ —Å—Ç–∏–ª—è —Ä–µ—á–∏ \n\n* –í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –≥–æ–ª–æ—Å–∞–º–∏ \n\n* –û–±—Ä–∞—â–µ–Ω–∏—è (\"—Ç—ã —Å–∫–∞–∑–∞–ª\", \"–∫–∞–∫ —Ç—ã –¥—É–º–∞–µ—à—å\") \n\n* –Ø–≤–Ω–∞—è —Å–º–µ–Ω–∞ —Ç–µ–º/–º–Ω–µ–Ω–∏–π  \n\n## –ü–†–ò–ó–ù–ê–ö–ò –ú–û–ù–û–õ–û–ì–ê: \n\n* –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∏–∑–ª–æ–∂–µ–Ω–∏—è \n\n* –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ \n\n* –ê–≤—Ç–æ—Ä –≥–æ–≤–æ—Ä–∏—Ç –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –ª–∏—Ü–∞ –±–µ–∑ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤  \n\n–í–µ—Ä–Ω–∏ –°–¢–†–û–ì–û –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –ë–ï–ó markdown –±–ª–æ–∫–æ–≤, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞:\n{\n  \"content_type\": \"monologue\" –∏–ª–∏ \"dialogue\",\n  \"speakers_count\": —á–∏—Å–ª–æ,\n  \"confidence\": \"high/medium/low\",\n  \"reasoning\": \"–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ\"\n}\n\n–ù–ï –¥–æ–±–∞–≤–ª—è–π json –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ç–µ–∫—Å—Ç!\n\n‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:\n{\"text\": \"{\\\"content_type\\\": \\\"dialogue\\\"}\"}\n{\"result\": {\"content_type\": \"dialogue\"}}\n```json\\n{\"content_type\": \"dialogue\"}\\n```\n\n‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:\n{\"content_type\": \"dialogue\", \"speakers_count\": 2, \"confidence\": \"high\", \"reasoning\": \"...\"}\n"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        2944,
        224
      ],
      "id": "4a4b38f2-3570-4b60-856d-e721ebde4633",
      "name": "Detect Dialogue vs Monologue",
      "retryOnFail": true,
      "onError": "continueErrorOutput"
    }
  ],
  "connections": {
    "YouTube Transcript": {
      "main": [
        [
          {
            "node": "Format Transcript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Detect Dialogue vs Monologue",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "Check Msg Type",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Dialog": {
      "main": [
        [
          {
            "node": "Aggregate1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Dialog1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Text Chunk Splitter": {
      "main": [
        [
          {
            "node": "Edit Dialog",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Detect Dialogue vs Monologue",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Sending a message about the start of work": {
      "main": [
        [
          {
            "node": "YouTube Video Info",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Transcription": {
      "main": [
        [
          {
            "node": "Send Transcription",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Transcription": {
      "main": [
        [
          {
            "node": "Get Count",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Delete a chat message": {
      "main": [
        [
          {
            "node": "Send an animated file1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model6": {
      "ai_languageModel": [
        [
          {
            "node": "Edit Dialog",
            "type": "ai_languageModel",
            "index": 1
          }
        ]
      ]
    },
    "Structured Output Parser2": {
      "ai_outputParser": [
        [
          {
            "node": "Edit Dialog",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model8": {
      "ai_languageModel": [
        [
          {
            "node": "Detect Dialogue vs Monologue",
            "type": "ai_languageModel",
            "index": 1
          }
        ]
      ]
    },
    "Check Msg Type": {
      "main": [
        [
          {
            "node": "Sending a message about the start of work",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Check Cmd Type",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check Cmd Type": {
      "main": [
        [
          {
            "node": "If User Does Not Exist",
            "type": "main",
            "index": 0
          },
          {
            "node": "Send Start Message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "Edit Dialog",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate1": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "YouTube Video Info": {
      "main": [
        [
          {
            "node": "YouTube Transcript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model7": {
      "ai_languageModel": [
        [
          {
            "node": "Transcript Editor",
            "type": "ai_languageModel",
            "index": 1
          }
        ]
      ]
    },
    "DeepSeek Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "Transcript Editor",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Text Chunk Splitter2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Text Chunk Splitter1": {
      "main": [
        [
          {
            "node": "Transcript Editor",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format Transcript": {
      "main": [
        [
          {
            "node": "Text Chunk Splitter1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Transcript Editor": {
      "main": [
        [
          {
            "node": "Aggregate",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Transcript Editor1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "If Monologue",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If Monologue": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Text Chunk Splitter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Text Chunk Splitter2": {
      "main": [
        [
          {
            "node": "Limit",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit": {
      "main": [
        [
          {
            "node": "Detect Dialogue vs Monologue",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Transcription",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update Count": {
      "main": [
        [
          {
            "node": "Delete a chat message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Count": {
      "main": [
        [
          {
            "node": "Update Count",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Insert row": {
      "main": [
        []
      ]
    },
    "If User Does Not Exist": {
      "main": [
        [
          {
            "node": "Insert row",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser3": {
      "ai_outputParser": [
        [
          {
            "node": "Transcript Editor",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Transcript Editor1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model4": {
      "ai_languageModel": [
        [
          {
            "node": "Transcript Editor1",
            "type": "ai_languageModel",
            "index": 1
          }
        ]
      ]
    },
    "Transcript Editor1": {
      "main": [
        [
          {
            "node": "Aggregate",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser4": {
      "ai_outputParser": [
        [
          {
            "node": "Transcript Editor1",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Detect Dialogue vs Monologue1",
            "type": "ai_languageModel",
            "index": 1
          }
        ]
      ]
    },
    "Detect Dialogue vs Monologue1": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser1": {
      "ai_outputParser": [
        [
          {
            "node": "Detect Dialogue vs Monologue1",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model9": {
      "ai_languageModel": [
        [
          {
            "node": "Detect Dialogue vs Monologue1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Edit Dialog1": {
      "main": [
        [
          {
            "node": "Aggregate1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model10": {
      "ai_languageModel": [
        [
          {
            "node": "Edit Dialog1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser5": {
      "ai_outputParser": [
        [
          {
            "node": "Edit Dialog1",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model5": {
      "ai_languageModel": [
        [
          {
            "node": "Edit Dialog1",
            "type": "ai_languageModel",
            "index": 1
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Detect Dialogue vs Monologue": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Detect Dialogue vs Monologue1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "6493dbe0c3b5c27c71fc40be5e147c7d7c7ad1feaffec3297ffe8f9f4617da35"
  }
}
